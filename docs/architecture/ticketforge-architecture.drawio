<mxfile host="app.diagrams.net">
  <diagram name="TicketForge AI Architecture">
    <mxGraphModel dx="1200" dy="800" grid="1" gridSize="10" guides="1">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Users -->
        <mxCell id="users" value="Users / Admins&#xa;(Browser / Mobile)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf" vertex="1" parent="1">
          <mxGeometry x="400" y="20" width="220" height="60" as="geometry"/>
        </mxCell>

        <!-- Frontend -->
        <mxCell id="web" value="Next.js 16.1&#xa;apps/web&#xa;(SSR + CSR)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366" vertex="1" parent="1">
          <mxGeometry x="400" y="120" width="220" height="70" as="geometry"/>
        </mxCell>

        <!-- API -->
        <mxCell id="api" value="API Gateway&#xa;Node.js + GraphQL&#xa;apps/api" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656" vertex="1" parent="1">
          <mxGeometry x="400" y="230" width="220" height="80" as="geometry"/>
        </mxCell>

        <!-- Redis -->
        <mxCell id="redis" value="Redis&#xa;Cache / Rate Limit" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450" vertex="1" parent="1">
          <mxGeometry x="150" y="350" width="200" height="60" as="geometry"/>
        </mxCell>

        <!-- PostgreSQL -->
        <mxCell id="postgres" value="PostgreSQL&#xa;Seats / Orders / Payments" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf" vertex="1" parent="1">
          <mxGeometry x="650" y="350" width="250" height="70" as="geometry"/>
        </mxCell>

        <!-- Socket.io -->
        <mxCell id="socket" value="Socket.io&#xa;Real-time Seat Updates" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6" vertex="1" parent="1">
          <mxGeometry x="400" y="350" width="220" height="60" as="geometry"/>
        </mxCell>

        <!-- Kafka -->
        <mxCell id="kafka" value="Kafka&#xa;Event Stream" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656" vertex="1" parent="1">
          <mxGeometry x="400" y="460" width="220" height="60" as="geometry"/>
        </mxCell>

        <!-- AI -->
        <mxCell id="ai" value="AI Services&#xa;Pricing / Fraud / Forecast" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366" vertex="1" parent="1">
          <mxGeometry x="650" y="560" width="250" height="70" as="geometry"/>
        </mxCell>

        <!-- Analytics -->
        <mxCell id="mongo" value="Analytics & Logs&#xa;MongoDB" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450" vertex="1" parent="1">
          <mxGeometry x="150" y="560" width="220" height="60" as="geometry"/>
        </mxCell>

        <!-- Edges -->
        <mxCell id="e1" style="endArrow=block;html=1;" edge="1" parent="1" source="users" target="web">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e2" style="endArrow=block;html=1;" edge="1" parent="1" source="web" target="api">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e3" style="endArrow=block;html=1;" edge="1" parent="1" source="api" target="redis">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e4" style="endArrow=block;html=1;" edge="1" parent="1" source="api" target="postgres">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e5" style="endArrow=block;html=1;" edge="1" parent="1" source="api" target="socket">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e6" style="endArrow=block;html=1;" edge="1" parent="1" source="api" target="kafka">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e7" style="endArrow=block;html=1;" edge="1" parent="1" source="kafka" target="ai">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e8" style="endArrow=block;html=1;" edge="1" parent="1" source="kafka" target="mongo">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
